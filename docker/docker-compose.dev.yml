# =============================================================================
# TradeCat Docker Compose 开发模式
# 挂载源代码，支持热重载
# 用法:
#   docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d
# =============================================================================

version: '3.8'

services:
  tradecat:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    volumes:
      # 挂载源代码（热重载）
      - ../services:/app/services:ro
      - ../libs:/app/libs
      - ../config/.env:/app/config/.env:ro
      # SQLite 数据
      - sqlite_data:/app/libs/database/services/telegram-service
    environment:
      # 开发模式
      DEBUG: "true"
      PYTHONDONTWRITEBYTECODE: "0"
